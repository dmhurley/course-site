{% if root.folders is defined %}
	{% set type = 'folder' %}
{% elseif root.address is defined %}
	{% set type = 'link' %}
{% else %}
	{% set type = 'file' %}
{% endif %}

{% if root.folders is defined and root.folders|length == 0  and root.files|length == 0 %}
	{% set full = 'empty' %}
{% else %}
	{% set full = '' %}
{% endif %}

{% if root.folders is defined and root.private %}
	{% set private = 'private' %}
{% else %}
	{% set private = '' %}
{% endif %}

{% if root.folders is defined and root.id == selected %}
	{% set id = 'selected' %}
{% else %}
	{% set id = '' %}
{% endif %}

<li class="{{type}} {{private}} {{full}}" id="{{id}}">

{% if root.folders is defined %}
	<a href="{{ path('view_folders', {'id' : root.id})}}{% if root.private %}&private=1{% endif %}">
		{{ root.name }}
	</a>
{% elseif root.address is defined %}
	<a href="{{root.address}}"> {{root.name}}</a>
{% elseif root.path is defined %}
	<a href="{{ path('download', {'filename' : root.path}) }}"> {{root.name}}.{{root.path|split('.')|last}} </a>
{% endif %}

{% if root.parent != null %}
<!-- floats right so put in reverse order -->
<span>
	<a href="{{ path('delete_folder', {'id':root.id})}}">delete</a>
</span>
<span>
	<a href="{{ path('edit_folder', {'id':root.id}) }}">edit</a>
</span>
{% endif %}
</li>


{% if root.folders is defined and (root.files|length > 0 or root.folders|length > 0 or root.links|length > 0)%}
	<ul>
		{% for folder in root.folders %}
			{% include 'BioFolderBundle:Default:structure.html.twig' with {'root' : folder, 'selected' : selected} %}
		{% endfor %}

		{% for file in root.files %}
			{% include 'BioFolderBundle:Default:structure.html.twig' with {'root' : file , 'selected' : selected } %}
		{% endfor %}

		{% for link in root.links %}
			{% include 'BioFolderBundle:Default:structure.html.twig' with {'root' : link , 'selected' : selected} %}
		{% endfor %}
	</ul>
{% endif %}